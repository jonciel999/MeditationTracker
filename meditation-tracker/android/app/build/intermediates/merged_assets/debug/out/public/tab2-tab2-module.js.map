{"version":3,"sources":["./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.page.html"],"names":[],"mappings":"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","file":"tab2-tab2-module.js","sourcesContent":["export default \"#progress-circle {\\n  transform: rotate(-90deg);\\n}\\n\\n.timer-text {\\n  transform: rotate(90deg);\\n  transform-origin: center;\\n  font-size: 36px;\\n  text-anchor: middle;\\n  font-weight: 600;\\n  fill: #7f8c8d;\\n}\\n\\n#TimerDiv {\\n  margin-top: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHRhYjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7QUFDSjs7QUFFQTtFQUNJLHdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7QUFDSjs7QUFFQTtFQUNJLGlCQUFBO0FBQ0oiLCJmaWxlIjoidGFiMi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjcHJvZ3Jlc3MtY2lyY2xle1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcclxufVxyXG5cclxuLnRpbWVyLXRleHQge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xyXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyO1xyXG4gICAgZm9udC1zaXplOiAzNnB4O1xyXG4gICAgdGV4dC1hbmNob3I6IG1pZGRsZTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBmaWxsOiAgIzdmOGM4ZCA7XHJcbn1cclxuXHJcbiNUaW1lckRpdntcclxuICAgIG1hcmdpbi10b3A6IDEwMHB4O1xyXG59Il19 */\";","import { Component } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { AlertController, NavController } from '@ionic/angular';\r\n\r\nconst circleR = 80;\r\nconst circleDasharray = 2 * Math.PI * circleR;\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-tab2',\r\n  templateUrl: 'tab2.page.html',\r\n  styleUrls: ['tab2.page.scss']\r\n})\r\nexport class Tab2Page {\r\n  time: BehaviorSubject<string> = new BehaviorSubject('00:00');\r\n  percent: BehaviorSubject<number> = new BehaviorSubject(100);\r\n  minutes:number;\r\n  timer: number; //in seconds\r\n\r\n  interval;\r\n\r\n  startDuration = 1;\r\n\r\n  circleR = circleR;\r\n  circleDasharray = circleDasharray;\r\n  state: 'start' | 'stop' = 'stop';\r\n\r\n  constructor(public alertController: AlertController, private nav : NavController) {\r\n    }\r\n\r\n  click(){\r\n    alert('Meditation Session Started')\r\n  }\r\n  async someAsyncOperation(){}\r\n  async presentSessionAlert() {\r\n    const alert = await this.alertController.create({\r\n      // cssClass: 'my-custom-class',\r\n      header: 'Save Session?',\r\n      // subHeader: 'Subtitle',\r\n      // message: 'Choose whether to save your session, take notes, or cancel',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Save',\r\n          handler: () => {\r\n            this.nav.navigateRoot('tabs/tab3');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n  startTimer(duration: number){\r\n    this.state = 'start';\r\n    clearInterval(this.interval);\r\n    this.timer = duration * 60;\r\n    this.updateTimeValue();\r\n    this.interval = setInterval( () => {\r\n      this.updateTimeValue();\r\n    }, 1000);\r\n  }\r\n\r\n  stopTimer(){\r\n    clearInterval(this.interval);\r\n    this.time.next('00:00');\r\n    this.state = 'stop';\r\n  }\r\n\r\n\r\n  updateTimeValue(){\r\n    let minutes: any = this.timer / 60;\r\n    let seconds: any = this.timer % 60;\r\n\r\n    minutes = String ('0' + Math.floor(minutes)).slice(-2);\r\n    seconds = String('0' + Math.floor(seconds)).slice(-2);\r\n\r\n    const text = minutes + ':' + seconds;\r\n    this.time.next(text);\r\n\r\n    const totalTime = this.startDuration * 60;\r\n    const percentage = ((totalTime - this.timer) / totalTime) * 100;\r\n    this.percent.next(percentage);\r\n\r\n    --this.timer;\r\n    if (this.timer < 0){\r\n      this.stopTimer();\r\n      let audio = new Audio();\r\n      audio.src = \"./assets/audio/gong.wav\";\r\n      audio.load();\r\n      audio.play();\r\n      this.presentSessionAlert();\r\n    }\r\n  }\r\n\r\n  percentageOffset(percent){\r\n    const percentFloat = percent / 100;\r\n    return circleDasharray * (1 - percentFloat);\r\n  }\r\n\r\n}\r\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-title>\\r\\n      Session Timer\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ion-header collapse=\\\"condense\\\">\\r\\n    <ion-toolbar>\\r\\n      <ion-title size=\\\"large\\\">Session Timer</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  <div id=\\\"TimerDiv\\\">\\r\\n  <ion-row class=\\\"ion-justify-content-center\\\">\\r\\n  <svg\\r\\n    id=\\\"progress-circle\\\"\\r\\n    width=\\\"50vh\\\"\\r\\n    height=\\\"50vh\\\"\\r\\n    viewBox=\\\"0 0 200 200\\\"\\r\\n  >\\r\\n    <linearGradient id=\\\"linearColors1\\\" x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"1\\\" y2=\\\"1\\\">\\r\\n      <stop offset=\\\"0%\\\" stop-color=\\\"#aeb6bf\\\"></stop>\\r\\n      <stop offset=\\\"100%\\\" stop-color=\\\"#2e4053\\\"></stop>\\r\\n    </linearGradient>-->\\r\\n    <circle\\r\\n      cx=\\\"50%\\\"\\r\\n      cy=\\\"50%\\\"\\r\\n      [attr.r]=\\\"circleR\\\"\\r\\n      fill=\\\"none\\\"\\r\\n      stroke=\\\"#f3f3f3\\\"\\r\\n      stroke-width=\\\"12\\\"\\r\\n    />\\r\\n    <circle\\r\\n      cx=\\\"50%\\\"\\r\\n      cy=\\\"50%\\\"\\r\\n      [attr.r]=\\\"circleR\\\"\\r\\n      fill=\\\"none\\\"\\r\\n      stroke=\\\"url(#linearColors1)\\\"\\r\\n      stroke-width=\\\"12\\\"\\r\\n      stroke-linecap=\\\"round\\\"\\r\\n      [attr.stroke-dasharray]=\\\"circleDasharray\\\"\\r\\n      [attr.stroke-dashoffset]=\\\"percentageOffset(percent | async)\\\"\\r\\n    \\r\\n    />\\r\\n    <text x=\\\"50%\\\" y=\\\"55%\\\" class=\\\"timer-text\\\">{{ time | async }}</text>\\r\\n  </svg>\\r\\n  </ion-row> \\r\\n</div>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\">How Many Minutes?</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"minutes\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-button *ngIf=\\\"state === 'stop'\\\" expand=\\\"block\\\" style=\\\"--background:  #229954\\\" (click)=\\\"startTimer(minutes)\\\">\\r\\n    Start Timer</ion-button>\\r\\n <ion-button *ngIf=\\\"state === 'start'\\\" expand=\\\"block\\\" style=\\\"--background:  #a93226 \\\" (click)=\\\"stopTimer()\\\">\\r\\n      Stop Timer</ion-button>\\r\\n</ion-footer>\\r\\n\\r\\n\";"],"sourceRoot":"webpack:///"}